{"ast":null,"code":"var _jsxFileName = \"/Users/abhilash/Downloads/jp-internal-app/src/Login.js\",\n  _s = $RefreshSig$();\n// src/Login.js\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { callBackend } from './utils/moduleStructureAPI';\nimport Loader from './components/Loader';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setUser\n}) {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const navigate = useNavigate();\n  const handleLogin = async e => {\n    e.preventDefault();\n    const loginStart = performance.now(); // ✅ start timer\n    setLoading(true);\n    setError('');\n    try {\n      const res = await callBackend('login', {\n        username,\n        password\n      });\n      const loginEnd = performance.now(); // ✅ end timer\n\n      console.log(`⏱ Login API took: ${(loginEnd - loginStart).toFixed(2)} ms`);\n      const userData = {\n        userid: res.userid,\n        username: res.username,\n        fullName: res.fullName,\n        role: res.role,\n        loginTimeMs: loginEnd - loginStart\n      };\n      if (res.success) {\n        sessionStorage.setItem('user', JSON.stringify(userData));\n        setUser(userData); // navigate('/master/product'); // or default route\n        setLoading(false);\n        return;\n      } else {\n        setError(res.message || 'Login failed');\n        setLoading(false); // keep loader off if failed\n      }\n    } catch (err) {\n      setError('Something went wrong');\n      console.error(err);\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-center h-screen bg-gradient-to-r from-gray-50 to-gray-100\",\n    children: loading ? /*#__PURE__*/_jsxDEV(Loader, {\n      message: \"login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleLogin,\n      className: \"bg-white p-8 rounded-lg shadow-md w-96 space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold text-center text-gray-800\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-500 text-sm text-center\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true,\n          className: \"input-field\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: showPassword ? \"text\" : \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          className: \"input-field pr-10\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setShowPassword(prev => !prev),\n          className: \"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-blue-600 focus:outline-none\",\n          children: showPassword ? /*#__PURE__*/_jsxDEV(EyeOff, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 56\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn-primary w-full\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"fIHt8fOj04+HI/K7hmeIMAtsfNE=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","useNavigate","callBackend","Loader","Eye","EyeOff","jsxDEV","_jsxDEV","Login","setUser","_s","username","setUsername","password","setPassword","error","setError","loading","setLoading","showPassword","setShowPassword","navigate","handleLogin","e","preventDefault","loginStart","performance","now","res","loginEnd","console","log","toFixed","userData","userid","fullName","role","loginTimeMs","success","sessionStorage","setItem","JSON","stringify","message","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","required","onClick","prev","size","_c","$RefreshReg$"],"sources":["/Users/abhilash/Downloads/jp-internal-app/src/Login.js"],"sourcesContent":["// src/Login.js\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { callBackend } from './utils/moduleStructureAPI';\nimport Loader from './components/Loader';\nimport { Eye, EyeOff } from 'lucide-react';\n\n\nfunction Login({setUser}) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [showPassword, setShowPassword] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    const loginStart = performance.now(); // ✅ start timer\n    setLoading(true);\n    setError('');\n\n    try {\n      const res = await callBackend('login',  { username, password });\n      const loginEnd = performance.now(); // ✅ end timer\n\n      console.log(`⏱ Login API took: ${(loginEnd - loginStart).toFixed(2)} ms`);\n      const userData = {\n            userid: res.userid,\n            username: res.username,\n            fullName: res.fullName,\n            role: res.role,\n            loginTimeMs: loginEnd - loginStart,\n            };\n      if (res.success) {\n        sessionStorage.setItem('user', JSON.stringify(userData));\n        setUser(userData); // navigate('/master/product'); // or default route\n        setLoading(false);\n        return;\n      } else {\n        setError(res.message || 'Login failed');\n        setLoading(false); // keep loader off if failed\n      }\n    } catch (err) {\n      setError('Something went wrong');\n      console.error(err);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center h-screen bg-gradient-to-r from-gray-50 to-gray-100\">\n      {loading ? (\n        <Loader message=\"login\" />\n      ) : (\n        <form\n          onSubmit={handleLogin}\n          className=\"bg-white p-8 rounded-lg shadow-md w-96 space-y-4\"\n        >\n          <h2 className=\"text-2xl font-bold text-center text-gray-800\">Login</h2>\n\n          {error && <p className=\"text-red-500 text-sm text-center\">{error}</p>}\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700\">Username</label>\n            <input\n              type=\"text\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n              className=\"input-field\"\n            />\n          </div>\n\n          <div className=\"relative\">\n            <input\n                type={showPassword ? \"text\" : \"password\"}\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                required\n                className=\"input-field pr-10\"\n            />\n            <button\n                type=\"button\"\n                onClick={() => setShowPassword(prev => !prev)}\n                className=\"absolute right-2 top-1/2 transform -translate-y-1/2 text-sm text-blue-600 focus:outline-none\"\n            >\n                {showPassword ? <EyeOff size={18} /> : <Eye size={18} />}\n            </button>\n        </div>\n\n          <button\n            type=\"submit\"\n            className=\"btn-primary w-full\"\n          >\n            Login\n          </button>\n        </form>\n      )}\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}