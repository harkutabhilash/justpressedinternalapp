{"ast":null,"code":"var _jsxFileName = \"/Users/abhilash/Downloads/jp-internal-app/src/LogManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport DynamicFormRenderer from './DynamicFormRenderer.js';\nimport Loader from './components/Loader';\nimport { fetchLogFormConfig } from './utils/logFormAPI.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction LogManagement({\n  module\n}) {\n  _s();\n  const [config, setConfig] = useState([]);\n  const [dropdowns, setDropdowns] = useState({});\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const loadConfig = async () => {\n      setLoading(true);\n      try {\n        const {\n          configRows,\n          dropdownMap\n        } = await fetchLogFormConfig(module);\n        const [headers, ...rows] = configRows;\n        const formattedConfig = rows.map(row => headers.reduce((obj, key, i) => {\n          obj[key] = row[i];\n          return obj;\n        }, {}));\n        setConfig(formattedConfig);\n        setDropdowns(dropdownMap);\n      } catch (err) {\n        console.error('Failed to load form config', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    if (module) loadConfig();\n  }, [module]);\n  if (loading) return /*#__PURE__*/_jsxDEV(Loader, {\n    message: `Setting up ${module} form...`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"content-panel\",\n    children: /*#__PURE__*/_jsxDEV(DynamicFormRenderer, {\n      config: config,\n      dropdowns: dropdowns,\n      module: module\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_s(LogManagement, \"gKdDM4BR0HGL7aw2RtjpBXHT3eA=\");\n_c = LogManagement;\nexport default LogManagement;\nvar _c;\n$RefreshReg$(_c, \"LogManagement\");","map":{"version":3,"names":["React","useEffect","useState","DynamicFormRenderer","Loader","fetchLogFormConfig","jsxDEV","_jsxDEV","LogManagement","module","_s","config","setConfig","dropdowns","setDropdowns","loading","setLoading","loadConfig","configRows","dropdownMap","headers","rows","formattedConfig","map","row","reduce","obj","key","i","err","console","error","message","fileName","_jsxFileName","lineNumber","columnNumber","className","children","_c","$RefreshReg$"],"sources":["/Users/abhilash/Downloads/jp-internal-app/src/LogManagement.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport DynamicFormRenderer from './DynamicFormRenderer.js';\nimport Loader from './components/Loader';\nimport { fetchLogFormConfig } from './utils/logFormAPI.js';\n\nfunction LogManagement({ module }) {\n  const [config, setConfig] = useState([]);\n  const [dropdowns, setDropdowns] = useState({});\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadConfig = async () => {\n      setLoading(true);\n      try {\n        const { configRows, dropdownMap } = await fetchLogFormConfig(module);\n          const [headers, ...rows] = configRows;\n\n          const formattedConfig = rows.map(row =>\n            headers.reduce((obj, key, i) => {\n              obj[key] = row[i];\n              return obj;\n            }, {})\n          );\n\n          setConfig(formattedConfig);\n          setDropdowns(dropdownMap);\n      } catch (err) {\n        console.error('Failed to load form config', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (module) loadConfig();\n  }, [module]);\n\n  if (loading) return <Loader message={`Setting up ${module} form...`} />;\n\n  return (\n    <div className=\"content-panel\">\n      {/* <h2 className=\"content-header\">{module} Entry Form</h2> */}\n      <DynamicFormRenderer config={config} dropdowns={dropdowns} module={module} />\n    </div>\n  );\n}\n\nexport default LogManagement;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,mBAAmB,MAAM,0BAA0B;AAC1D,OAAOC,MAAM,MAAM,qBAAqB;AACxC,SAASC,kBAAkB,QAAQ,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3D,SAASC,aAAaA,CAAC;EAAEC;AAAO,CAAC,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC9C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,MAAMgB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC7BD,UAAU,CAAC,IAAI,CAAC;MAChB,IAAI;QACF,MAAM;UAAEE,UAAU;UAAEC;QAAY,CAAC,GAAG,MAAMd,kBAAkB,CAACI,MAAM,CAAC;QAClE,MAAM,CAACW,OAAO,EAAE,GAAGC,IAAI,CAAC,GAAGH,UAAU;QAErC,MAAMI,eAAe,GAAGD,IAAI,CAACE,GAAG,CAACC,GAAG,IAClCJ,OAAO,CAACK,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,EAAEC,CAAC,KAAK;UAC9BF,GAAG,CAACC,GAAG,CAAC,GAAGH,GAAG,CAACI,CAAC,CAAC;UACjB,OAAOF,GAAG;QACZ,CAAC,EAAE,CAAC,CAAC,CACP,CAAC;QAEDd,SAAS,CAACU,eAAe,CAAC;QAC1BR,YAAY,CAACK,WAAW,CAAC;MAC7B,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZC,OAAO,CAACC,KAAK,CAAC,4BAA4B,EAAEF,GAAG,CAAC;MAClD,CAAC,SAAS;QACRb,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAED,IAAIP,MAAM,EAAEQ,UAAU,CAAC,CAAC;EAC1B,CAAC,EAAE,CAACR,MAAM,CAAC,CAAC;EAEZ,IAAIM,OAAO,EAAE,oBAAOR,OAAA,CAACH,MAAM;IAAC4B,OAAO,EAAE,cAAcvB,MAAM;EAAW;IAAAwB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAEvE,oBACE7B,OAAA;IAAK8B,SAAS,EAAC,eAAe;IAAAC,QAAA,eAE5B/B,OAAA,CAACJ,mBAAmB;MAACQ,MAAM,EAAEA,MAAO;MAACE,SAAS,EAAEA,SAAU;MAACJ,MAAM,EAAEA;IAAO;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC1E,CAAC;AAEV;AAAC1B,EAAA,CAvCQF,aAAa;AAAA+B,EAAA,GAAb/B,aAAa;AAyCtB,eAAeA,aAAa;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}